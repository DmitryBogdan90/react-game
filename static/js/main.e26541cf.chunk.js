(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{55:function(e,t,i){},56:function(e,t,i){},57:function(e,t,i){},63:function(e,t,i){},64:function(e,t,i){},69:function(e,t,i){},70:function(e,t,i){"use strict";i.r(t);var n=i(0),s=i(7),a=i.n(s),c=(i(55),i(47)),o=i(39),r=i(25),h=i(31),l=i(11),u=i(36),d=i(35),j=i(72),b=i(91),m=i(93),g=i(92),f=i(15),O=i.n(f),v=(i(56),i(94)),p=(i(57),i(2)),k=function(e){var t=e.changeBackgroundOn,i=e.newGame,n=e.saveGame,s=e.viewHighScore,a=e.viewSettings;return Object(p.jsxs)("header",{children:[Object(p.jsx)(v.a,{onClick:function(){return t()},children:"Background"}),Object(p.jsxs)("menu",{children:[Object(p.jsx)(v.a,{onClick:function(){return i()},children:"New Game"}),Object(p.jsx)(v.a,{onClick:function(){return n()},children:"Save Game"}),Object(p.jsx)(v.a,{onClick:function(){return s()},children:"High-score"}),Object(p.jsx)(v.a,{onClick:function(){return a()},children:"Settings"})]})]})},y=(i(63),i.p+"static/media/paper.8b57a6b1.svg"),w=i.p+"static/media/scissors.3b1a5d7e.svg",S=i.p+"static/media/rock.476e90a9.svg",x=function(e){var t=e.browserChoice,i=e.playerChoice,n=e.winner,s=e.score,a=e.round,c=e.choices,o=e.handleClick,r=function(e,t){return Object(p.jsxs)("div",{className:"choice-card",children:[Object(p.jsx)("div",{className:"title-choice",children:t}),Object(p.jsx)("div",{className:"image-choice-container",children:Object(p.jsx)("img",{className:"image-choice",src:"paper"===e?y:"rock"===i?S:w,alt:""})})]})};return Object(p.jsxs)("main",{children:[Object(p.jsxs)("div",{className:"game-info",children:[Object(p.jsx)("div",{className:"help",children:c.map((function(e,t){return Object(p.jsxs)("div",{children:["Press ",t+1," to choose ",e]},t)}))}),Object(p.jsxs)("div",{className:"round ".concat("player"===n?"win":"browser"===n?"lose":"draft"),children:["Round: ",a]}),Object(p.jsxs)("div",{className:"score",children:["Score: ",s]})]}),Object(p.jsxs)("div",{className:"game-view",children:[r(i,"player"),Object(p.jsxs)("div",{className:"winner",children:[n?"".concat(n," WIN!!!"):"draft"," "]}),r(t,"browser")]}),Object(p.jsx)("div",{className:"choices",children:c.map((function(e,t){return Object(p.jsx)(v.a,{className:"choice-button",size:"large",onClick:function(){return o(e)},children:e},t)}))})]})},C=i(96),N=i(46),H=i.n(N),B=(i(64),i.p+"static/media/rs_school_js.ad178c0d.svg"),T=function(){return Object(p.jsx)(C.a,{className:"github",href:"https://github.com/DmitryBogdan90",color:"inherit",children:Object(p.jsx)(H.a,{fontSize:"large"})})},M=function(){return Object(p.jsx)("div",{className:"year",children:"2021"})},G=function(){return Object(p.jsx)(C.a,{className:"logo-js",href:"https://rs.school/js/",color:"inherit",children:Object(p.jsx)("img",{className:"logo-js-image",src:B,alt:"",height:50})})},A=function(){return Object(p.jsxs)("footer",{children:[Object(p.jsx)(T,{}),Object(p.jsx)(M,{}),Object(p.jsx)(G,{})]})},z=(i(69),function e(t,i){Object(r.a)(this,e),this.x=Math.random()*t,this.y=Math.random()*i,this.z=t,this.size=.6,this.radius=1.2*Math.random(),this.speed=.2}),E=function(e){Object(u.a)(i,e);var t=Object(d.a)(i);function i(e){var n;return Object(r.a)(this,i),(n=t.call(this,e)).state={counter:0,canvas:{width:1280,height:720,centerX:640,centerY:360},stars:[]},n.tick=n.tick.bind(Object(l.a)(n)),n.animationID=null,n}return Object(h.a)(i,[{key:"componentDidMount",value:function(){this.paint(),this.setState({stars:this.generateStars()}),this.animationID=window.requestAnimationFrame(this.tick)}},{key:"componentDidUpdate",value:function(e,t,i){}},{key:"componentWillUnmount",value:function(){window.cancelAnimationFrame(this.animationID)}},{key:"generateStars",value:function(){for(var e=[],t=0;t<66;t++)e[t]=new z(this.state.canvas.width,this.state.canvas.height);return e}},{key:"paint",value:function(){if(this.props.isBackgroundOn){var e=this.state,t=e.canvas,i=t.width,n=t.height,s=t.centerX,a=t.centerY,c=e.stars,o=this.refs.canvas.getContext("2d");o.fillStyle="black",o.fillRect(0,0,this.state.canvas.width,this.state.canvas.height);for(var r=0;r<c.length;r++)c[r].z=c[r].z-c[r].speed,c[r].z<=0&&(c[r].z=i),c[r].x=(c[r].x-s)*(i/c[r].z),c[r].x=c[r].x+s,c[r].y=(c[r].y-a)*(i/c[r].z),c[r].y=c[r].y+a,c[r].size=c[r].size*(i/c[r].z),(c[r].x<=0||c[r].x>i||c[r].y<=0||c[r].y>n)&&(c[r]=new z(i,n)),o.beginPath(),o.arc(c[r].x,c[r].y,c[r].size,0,360),o.fillStyle="white",o.fill()}else window.cancelAnimationFrame(this.animationID)}},{key:"tick",value:function(){var e=this;this.paint(),setTimeout((function(){e.animationID=window.requestAnimationFrame((function(){return e.tick()}))}),10)}},{key:"render",value:function(){var e=this.state.canvas,t=e.width,i=e.height;return Object(p.jsx)("canvas",{className:"background",ref:"canvas",width:t,height:i})}}]),i}(n.Component),I=i.p+"static/media/modal.28183fa1.ogg",D=i.p+"static/media/theme.1c62de80.ogg",P=i.p+"static/media/win.5472aebc.ogg",F=i.p+"static/media/draw.629a4645.ogg",J=i.p+"static/media/lose.5a7688cf.ogg",U=function(){return Object(p.jsx)("div",{children:"Highscore"})},W=function(e){var t=e.isMusicOn,i=e.playTheme;return Object(p.jsxs)("div",{className:"settings-modal",children:[Object(p.jsx)("div",{className:"settings-title",children:"Settings"}),Object(p.jsxs)(v.a,{className:"settings-button",onClick:function(){return i()},children:["Music: ",t?"Pause":"Play"]})]})},q=function(e){Object(u.a)(i,e);var t=Object(d.a)(i);function i(){var e;return Object(r.a)(this,i),(e=t.call(this)).state={isBackgroundOn:!1,isMusicOn:!1,isSettingsOn:!1,isHighScoreOn:!1,choices:["rock","scissors","paper"],browserChoice:null,playerChoice:null,winner:null,score:null,round:null},e.changeBackgroundOn=e.changeBackgroundOn.bind(Object(l.a)(e)),e.closeHighScore=e.closeHighScore.bind(Object(l.a)(e)),e.closeSettings=e.closeSettings.bind(Object(l.a)(e)),e.viewHighScore=e.viewHighScore.bind(Object(l.a)(e)),e.viewSettings=e.viewSettings.bind(Object(l.a)(e)),e.newGame=e.newGame.bind(Object(l.a)(e)),e.saveGame=e.saveGame.bind(Object(l.a)(e)),e.handleClick=e.handleClick.bind(Object(l.a)(e)),e.playTheme=e.playTheme.bind(Object(l.a)(e)),e.stopTheme=e.stopTheme.bind(Object(l.a)(e)),e}return Object(h.a)(i,[{key:"componentDidMount",value:function(){var e=this;if(O.a.bind(["1","2","3"],(function(t){return e.handleClick(e.state.choices[t.key-1])})),O.a.bind(["shift+n"],(function(){return e.newGame()})),O.a.bind(["shift+h"],(function(){return e.viewHighScore()})),O.a.bind(["shift+s"],(function(){return e.viewSettings()})),localStorage.getItem("choices-game")){var t=JSON.parse(localStorage.getItem("choices-game"));this.setState(Object(o.a)(Object(o.a)({},t),{},{isMusicOn:!1}))}this.stopTheme(),this.setState({audioModal:new Audio(I),audioTheme:new Audio(D)})}},{key:"componentWillUnmount",value:function(){var e=this;O.a.unbind(["1","2","3"],(function(t){return e.handleClick(e.state.choices[t.key-1])})),O.a.unbind(["shift+n"],(function(){return e.newGame()})),O.a.unbind(["shift+h"],(function(){return e.viewHighScore()})),O.a.unbind(["shift+s"],(function(){return e.viewSettings()}))}},{key:"componentDidUpdate",value:function(){localStorage.setItem("choices-game",JSON.stringify(this.state))}},{key:"handleClick",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state.choices,i=t[Math.floor(3*Math.random())],n=e,s=a(i,n,t);function a(e,t,i){var n,s=Object(c.a)(i,3),a=s[0],o=s[1],r=s[2];switch(t){case a:n=e===o?"player":e===a?null:"browser";break;case o:n=e===r?"player":e===o?null:"browser";break;case r:n=e===a?"player":e===r?null:"browser";break;default:console.log("default")}return n}this.playAudioEffect("player"===s?P:"none"===s?F:J),this.setState({browserChoice:i,playerChoice:n,winner:s,score:"player"===s?+this.state.score+1:"none"===s?this.state.score:+this.state.score-1,round:+this.state.round+1})}},{key:"newGame",value:function(){this.setState({browserChoice:null,playerChoice:null,winner:null,score:0,round:0}),this.playAudioEffect(I)}},{key:"saveGame",value:function(){this.playAudioEffect(I),localStorage.setItem("choices-game",JSON.stringify(this.state))}},{key:"viewHighScore",value:function(){this.state.isSettingsOn&&this.setState({isSettingsOn:!this.state.isSettingsOn}),this.playAudioEffect(I),this.setState({isHighScoreOn:!0})}},{key:"closeHighScore",value:function(){this.setState({isHighScoreOn:!1})}},{key:"viewSettings",value:function(){this.state.isHighScoreOn&&this.setState({isHighScoreOn:!this.state.isHighScoreOn}),this.playAudioEffect(I),this.setState({isSettingsOn:!0})}},{key:"closeSettings",value:function(){this.setState({isSettingsOn:!1})}},{key:"playAudioEffect",value:function(e){this.audioEffect&&this.audioEffect.pause(),this.audioEffect=new Audio(e),this.audioEffect.play()}},{key:"playTheme",value:function(){this.state.isMusicOn?(this.state.audioTheme.pause(),this.setState({isMusicOn:!1})):(this.setState({isMusicOn:!0}),this.state.audioTheme.play())}},{key:"stopTheme",value:function(){this.setState({isThemePlay:!1,audioTheme:null})}},{key:"changeBackgroundOn",value:function(){this.setState({isBackgroundOn:!this.state.isBackgroundOn})}},{key:"render",value:function(){var e=this.state,t=e.isBackgroundOn,i=e.choices,n=e.browserChoice,s=e.playerChoice,a=e.winner,c=e.score,o=e.round,r=e.isHighScoreOn,h=e.isSettingsOn,l=e.isMusicOn;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(j.a,{in:t,children:Object(p.jsx)(b.a,{className:"background",elevation:4,children:Object(p.jsx)(E,{isBackgroundOn:t})})}),Object(p.jsx)(k,{changeBackgroundOn:this.changeBackgroundOn,newGame:this.newGame,saveGame:this.saveGame,viewHighScore:this.viewHighScore,viewSettings:this.viewSettings}),Object(p.jsx)(x,{browserChoice:n,playerChoice:s,winner:a,score:c,round:o,choices:i,handleClick:this.handleClick}),Object(p.jsx)(j.a,{in:!t,children:Object(p.jsx)(b.a,{className:"footer",elevation:4,children:Object(p.jsx)(A,{})})}),Object(p.jsx)(m.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:"modal",open:r,onClose:this.closeHighScore,closeAfterTransition:!0,BackdropComponent:g.a,BackdropProps:{timeout:500},children:Object(p.jsx)(j.a,{in:r,children:Object(p.jsx)("div",{className:"paper",children:Object(p.jsx)(U,{})})})}),Object(p.jsx)(m.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:"modal",open:h,onClose:this.closeSettings,closeAfterTransition:!0,BackdropComponent:g.a,BackdropProps:{timeout:500},children:Object(p.jsx)(j.a,{in:h,children:Object(p.jsx)("div",{className:"paper",children:Object(p.jsx)(W,{isMusicOn:l,playTheme:this.playTheme})})})})]})}}]),i}(n.Component);a.a.render(Object(p.jsx)(q,{}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.e26541cf.chunk.js.map